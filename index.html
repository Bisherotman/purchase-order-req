<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <link rel="stylesheet" href="style.css">
  <!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.0/firebase-firestore-compat.js"></script>
  
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ุจูุงุจุฉ ุทูุจุงุช ุงูุดุฑุงุก | ุจูุช ุงูุฅุจุงุก</title>

<!-- ูุงููููู -->
<link rel="icon" href="img/pagelogo.png" type="image/png" />

<!-- ุฎุทูุท -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Tajawal:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body class="auth-out">

<header>
  <nav class="nav">
    <!-- ูุณุงุฑ -->
    <a class="brand" href="#/login" id="brandLink">
      <img src="img/pagelogo.png" alt="Bayt Alebaa Logo" />
    </a>
    <!-- ูุณุท -->
    <div class="title">
      <span class="ar">ุจูุงุจุฉ ุทูุจุงุช ุงูุดุฑุงุก ููุณู ุงููุดุงุฑูุน</span>
      <span class="en">Bayt Alebaa โ Projects Department</span>
    </div>
    <!-- ูููู -->
    <div class="navlinks" id="navLinks">
      <a href="#/new"   data-auth="user"  style="display:none">ุทูุจ ุฌุฏูุฏ</a>
      <a href="#/my"    data-auth="user"  style="display:none">ุทูุจููุงุชู</a>
      <a href="#/admin" data-auth="admin" style="display:none">ุฅุฏุงุฑุฉ ุงูุทูุจุงุช</a>
      <!-- ูุฐุง ุงูุฒุฑ ุฏุงุฆููุง ุฃุญูุฑ ูุซู "ุฎุฑูุฌ" -->
      <a href="#/login" id="sessionBtn">ุฏุฎูู</a>
    </div>
  </nav>
</header>

<div class="container">

  <!-- LOGIN -->
  <section id="view-login" class="view active">
    <div class="card">
      <h2>ุชุณุฌูู ุงูุฏุฎูู</h2>
      <form id="loginForm">

        <label for="loginEmail">ุงูุฅูููู</label>
<div class="input-wrap">
  <input id="loginEmail" type="email" ... />
  <button type="button" id="clearEmail" class="input-clear">โ</button>
</div>

<label for="loginPassword" style="margin-top:14px">ูููุฉ ุงููุฑูุฑ</label>
<div class="pwd-wrap input-wrap">
  <input id="loginPassword" type="password" required placeholder="โขโขโขโขโขโขโขโข" />
  <button type="button" class="pwd-toggle" id="togglePwd" aria-label="ุฅุธูุงุฑ/ุฅุฎูุงุก ูููุฉ ุงููุฑูุฑ">๐๏ธ</button>
  <button type="button" class="pwd-clear"  id="clearPwd" aria-label="ูุณุญ ูููุฉ ุงููุฑูุฑ">โ</button>
</div>

        <!-- ุชุฐููุฑ ุงูุฅูููู ุฃุณูู ูููุฉ ุงูุณุฑ -->
        <label style="display:flex;gap:8px;align-items:center;margin-top:10px;font-weight:400">
          <input id="rememberEmail" type="checkbox" style="width:18px;height:18px" />
          <span class="helper">ุชุฐููุฑ ุงูุฅูููู</span>
        </label>

        <button type="submit" id="loginBtn" class="btn-strong" style="margin-top:10px">ุฏุฎูู</button>
        <div id="loginMsg" class="msg"></div>
        <div class="helper">* ุฅูุดุงุก ุงูุญุณุงุจุงุช ูุชู ุนุจุฑ ุงูุฅุฏุงุฑุฉ ููุท.</div>
      </form>
    </div>
  </section>

  <!-- NEW ORDER -->
  <section id="view-new" class="view">
    <div class="card">
      <div class="row" style="justify-content:space-between">
        <h2>ุชุณุฌูู ุทูุจ ุดุฑุงุก</h2>
        <div class="helper" id="whoami">โ</div>
      </div>

      <div class="section-box">ูุนูููุงุช ุงููุดุฑูุน</div>
      <div class="row">
        <div><label for="projectName">ุงุณู ุงููุดุฑูุน</label><input id="projectName" type="text" placeholder="ูุดุฑูุน ุฃุจุฑุงุฌ..." /></div>
        <div><label for="customerName">ุงุณู ุงูุนููู</label><input id="customerName" type="text" placeholder="ุงุณู ุงูุนููู..." /></div>
      </div>

      <div class="section-box">ุงูุฃุตูุงู</div>
      <div class="items-head"><button type="button" id="addItemBtn" class="add-item">+ ุฅุถุงูุฉ ุตูู</button></div>
      <div id="itemsWrap"></div>

      <label style="font-weight:700; display:block; margin-top:14px">
        ุฑูุงุจุท ุงููุฑููุงุช (ุงุฎุชูุงุฑู โ ุญุฏ ุฃูุตู 2)
      </label>
      <div id="linksWrap"></div>
      <button type="button" id="addLinkBtn" class="add-item">+ ุฅุถุงูุฉ ุฑุงุจุท</button>

      <button type="button" id="submitOrder" class="btn-strong" style="margin-top:10px">ุฅุฑุณุงู ุงูุทูุจ</button>
      <div id="newMsg" class="msg"></div>
    </div>
  </section>

  <!-- MY ORDERS -->
  <section id="view-my" class="view">
    <div class="card">
      <div class="row" style="justify-content:space-between">
        <h2>ุทูุจููุงุชู</h2>
        <div class="helper" id="whoamiMy">โ</div>
      </div>
      <div class="row">
        <input id="mySearch" placeholder="ุงุจุญุซ ุจุฑูู ุงูุชุชุจูุนุ ููุฏ ุงูุตููุ ุงุณู ุงููุดุฑูุน ุฃู ุงูุนููู" />
        <select id="mySort">
          <option value="createdAt_desc">ุงูุฃุญุฏุซ ุฃููุงู</option>
          <option value="createdAt_asc">ุงูุฃูุฏู ุฃููุงู</option>
        </select>
      </div>
      <div id="myTableWrap" class="card" style="padding:0">
        <table>
          <thead>
            <tr>
              <th>ุงูุชุชุจูุน</th><th>ุงูุตูู</th><th>ุงููููุฉ</th><th>ุงูุณุนุฑ</th><th>ุงููุดุฑูุน</th><th>ุงูุญุงูุฉ</th><th>ุงูุชุงุฑูุฎ</th><th>ุชูุงุตูู</th>
            </tr>
          </thead>
          <tbody id="myOrdersBody"></tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- ADMIN -->
  <section id="view-admin" class="view">
    <div class="card">
      <div class="row" style="justify-content:space-between">
        <h2>ุฅุฏุงุฑุฉ ุงูุทูุจุงุช</h2>
        <div class="helper" id="whoamiAdmin">โ</div>
      </div>
      <div class="row">
        <input id="adminSearch" placeholder="ุงุจุญุซ ุจุฑูู ุงูุชุชุจูุนุ ููุฏ ุงูุตููุ ุงุณู ุงููุดุฑูุน ุฃู ุงูุนููู" />
        <select id="adminFilterBranch">
          <option value="">ูู ุงููุฑูุน</option>
          <option>Riyadh</option><option>Dammam</option><option>Jeddah</option>
          <option>Makkah</option><option>Madina</option><option>HQ</option>
        </select>
      </div>
      <div id="adminTableWrap" class="card" style="padding:0">
        <table>
          <thead>
            <tr>
              <th>ุงููุฑุน</th><th>ุงูุชุชุจูุน</th><th>ุงูุตูู</th><th>ุงููููุฉ</th><th>ุงูุณุนุฑ</th><th>ุงููุดุฑูุน</th><th>ุงูุญุงูุฉ</th><th>ุฅุฌุฑุงุก</th>
            </tr>
          </thead>
          <tbody id="adminOrdersBody"></tbody>
        </table>
      </div>
    </div>
  </section>
</div>

<!-- ุชูุงุตูู/ุทุจุงุนุฉ -->
<div id="detailsModal" class="modal" aria-hidden="true">
  <div class="backdrop"></div>
  <div class="modal-card printable">
    <div class="modal-header">
      <div class="inv-brand">
        <img src="img/pagelogo.png" alt="logo">
        <div class="inv-title">ูููุฐุฌ ุทูุจ ุดุฑุงุก</div>
      </div>
      <div style="display:flex; gap:8px">
        <button class="btn-strong" id="printDetailsBtn" style="padding:8px 12px;border-radius:10px">ุทุจุงุนุฉ</button>
        <button class="close-x" id="closeDetails">โ</button>
      </div>
    </div>
    <div id="detailsBody" class="t-small"></div>
  </div>
</div>
<script src="script.js"></script>
</body>
</html>
